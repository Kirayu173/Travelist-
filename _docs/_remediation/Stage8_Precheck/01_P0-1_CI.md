# P0-1：CI 可运行（PostGIS）

## 整改目标
- 在 GitHub Actions 中稳定运行：`ruff`、`black --check`、`pytest`（测试需要 PostgreSQL + PostGIS）。

## 实施步骤
1. 在 `.github/workflows/ci.yml` 的 job 中新增 `services.postgres`，使用 `postgis/postgis:16-3.4` 镜像并配置健康检查。
2. 为 job 设置环境变量 `DATABASE_URL` 指向 service，并开启 `PYTEST_FAST_DB=1` 加速测试建库流程。
3. 保持现有步骤（依赖安装、ruff、black、pytest）不变，确保与本地一致。

## 完成时限
- 2025-12-13（已完成）

## 效果验证
- CI 工作流应能在无外部依赖的情况下完成测试（依赖由 service 提供）。

## 证据材料
- 变更文件：`.github/workflows/ci.yml`

